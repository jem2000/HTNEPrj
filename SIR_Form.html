<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>SIR Form</title>
    <script src='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.js'></script>
    <link href='https://api.mapbox.com/mapbox-gl-js/v2.0.0/mapbox-gl.css' rel='stylesheet' />
</head>
<body>
<div id = 'container' style='width: 1200px; height: 900px;'>
    <div id='map' class = 'map' style='width: 1200px; height: 900px;'></div>
    <canvas id="myCanvas"  width= "1200" height = "900px" ></canvas>
</div>


<script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiYXJrdHlrMjAwMCIsImEiOiJja2p5eTZzb2QwMjhrMm5vNTlqbHp6N3c4In0.wzX0g3xgiMMS2_dy2uHFWQ';
    let map = new mapboxgl.Map({
        container: 'map',
        style: 'mapbox://styles/mapbox/streets-v11',
        center: [-73.9665, 40.7812],
        zoom: 12

    });

    function moveMap(city) {
        console.log('fly')
        if (cities.value === "sf") {
            map.flyTo({
                center: [-122.4862, 37.7694],
                essential: true
            });
        }
        if (cities.value === "nyc") {
            map.flyTo({
                center: [-73.9665, 40.7812],
                essential: true
            });
        }
        if (cities.value === "boston") {
            map.flyTo({
                center: [-71.0656, 42.3551],
                essential: true
            });
        }
    }
</script>

<form class="form">
<label for="viruses">Select which infectious virus you would like to model:</label>
<select name="viruses" id="viruses" oninput="setVirusData(value)">
    <option value="covid">Covid-19</option>
    <option value="flu">Influenza</option>
    <option value="cold">The common cold</option>
</select><br><br>

<label for="cities">Select which city you would like to model:</label>
<select name="cities" id="cities" oninput="setCityData(value)
moveMap(value)"
>
    <option value="sf">San Francisco</option>
    <option value="nyc">New York City</option>
    <option value="boston">Boston</option>
</select><br><br>



<label for = "infected">How many people were initially infected? </label>
<input type = "number" id = "infected" name = "infected" min="1" max="999" oninput="setInitialInfectedData(parseInt(infected.value))
    setValues()
    //setAPIValues()
    DrawCircles(parseInt(SS.value), parseInt(CI.value), parseInt(R.value))"><br><br>

<label for = "time">How long has the virus been spreading? (days): </label>
<input type = "number" id = "time" min="0" max="999" name = "time" oninput="setTimeLength(parseInt(time.value))
    setValues()
    //setAPIValues()
    DrawCircles(parseInt(SS.value), parseInt(CI.value), parseInt(R.value))"><br><br>
<button type = "button" id = "button" onclick="
    setValues()
    //setAPIValues()
    DrawCircles(parseInt(SS.value), parseInt(CI.value), parseInt(R.value))
">Calculate</button><br><br>

<div class = "SIR_values">
    <label for = "SS">Still susceptible: </label>
    <output name = "SS" id = "SS" for = "SS"></output><br>

    <label for = "CI">Currently infected: </label>
    <output name = "CI" id = "CI" for = "CI"></output><br>

    <label for = "TI">Total infected: </label>
    <output name = "TI" id = "TI" for = "TI"></output><br>

    <label for = "R">Recovered: </label>
    <output name = "R" id = "R" for = "R"></output><br>

    <label for = "D">Dead: </label>
    <output name = "D" id = "D" for = "D"></output><br>
</div>

<div class = "API_values">
    <label for = "API_SS">Still susceptible: </label>
    <output name = "API_SS" id = "API_SS" for = "API_SS"></output><br>
    <label for = "API_CI">Currently infected: </label>
    <output name = "API_CI" id = "API_CI" for = "API_CI"></output><br>
    <label for = "API_D">Dead: </label>
    <output name = "API_D" id = "API_D" for = "API_D"></output><br>

</div>

</form>


<link rel="stylesheet" href="SIR_Form.css">
<script type="text/javascript" src="SIR_Form.js"></script>

</body>
</html>
